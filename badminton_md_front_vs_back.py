import streamlit as st
import numpy as np
import matplotlib.pyplot as plt

# ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ ë° í‰ê°€ ê¸°ì¤€
questions = [
    ("ìŠ¤ë§¤ì‹œ íŒŒì›Œê°€ ê°•í•˜ê³  í›„ìœ„ì—ì„œ ê°•í•œ ê³µê²©ì„ ì§€ì†ì ìœ¼ë¡œ í•  ìˆ˜ ìˆëŠ”ê°€?", "Back"),
    ("ë„¤íŠ¸ ì•ì—ì„œ ë¹ ë¥¸ ë°˜ì‘ ì†ë„ë¡œ ì…”í‹€ì„ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆëŠ”ê°€?", "Front"),
    ("ìˆœê°„ì ì¸ ìŠ¤í… ì´ë™ì´ ë¹ ë¥´ê³  ë¯¼ì²©í•œê°€?", "Front"),
    ("ê°•í•œ ë“œë¼ì´ë¸Œì™€ í‘¸ì‹œë¥¼ í™œìš©í•œ ê³µê²©ì ì¸ í”Œë ˆì´ë¥¼ ì„ í˜¸í•˜ëŠ”ê°€?", "Front"),
    ("ì „ìœ„ì—ì„œ ë„¤íŠ¸ ë“œë¡­ê³¼ í—¤ì–´í•€ì„ ì •êµí•˜ê²Œ êµ¬ì‚¬í•  ìˆ˜ ìˆëŠ”ê°€?", "Front"),
    ("í›„ìœ„ì—ì„œ í´ë¦¬ì–´ì™€ ìŠ¤ë§¤ì‹œë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆëŠ”ê°€?", "Back"),
    ("ì í”„ ìŠ¤ë§¤ì‹œë¥¼ êµ¬ì‚¬í•  ìˆ˜ ìˆëŠ”ê°€?", "Back"),
    ("ë„¤íŠ¸ì—ì„œ ìƒëŒ€ì˜ ê³µê²©ì„ ì¹´ìš´í„°í•˜ê³  ì£¼ë„ê¶Œì„ ì¡ëŠ” í”Œë ˆì´ë¥¼ ì˜í•˜ëŠ”ê°€?", "Front"),
    ("ê³µê²© ê¸°íšŒì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ì „ìœ„ì™€ í›„ìœ„ë¥¼ êµëŒ€í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("ë ë¦¬ ì¤‘ ì ì ˆí•œ íƒ€ì´ë°ì— ë„¤íŠ¸ ì•ìœ¼ë¡œ ì „ì§„í•  ìˆ˜ ìˆëŠ”ê°€?", "Front"),
    ("í›„ìœ„ì—ì„œì˜ ìˆ˜ë¹„ì ì¸ ë“œë¼ì´ë¸Œì™€ í´ë¦¬ì–´ë¥¼ ì•ˆì •ì ìœ¼ë¡œ í•  ìˆ˜ ìˆëŠ”ê°€?", "Back"),
    ("ìƒëŒ€ì˜ í”Œë ˆì´ ìŠ¤íƒ€ì¼ì„ ë¹ ë¥´ê²Œ ë¶„ì„í•˜ê³  ì „ëµì„ ì¡°ì •í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("ì••ë°• ìƒí™©ì—ì„œë„ ì¹¨ì°©í•˜ê²Œ í”Œë ˆì´í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("íŒŒíŠ¸ë„ˆì˜ í”Œë ˆì´ ìŠ¤íƒ€ì¼ì— ë§ì¶° ìœ ì—°í•˜ê²Œ ì ì‘í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("ê²½ê¸° ì¤‘ ì‹¤ìˆ˜í–ˆì„ ë•Œ íŒŒíŠ¸ë„ˆë¥¼ ê²©ë ¤í•˜ë©° ê¸ì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
]

# Streamlit UI
st.title("ë°°ë“œë¯¼í„´ ë‚¨ìë³µì‹ ì „ìœ„ & í›„ìœ„ í¬ì§€ì…˜ ì í•©ì„± í‰ê°€")
st.write("ì•„ë˜ ì§ˆë¬¸ì— ëŒ€í•´ 1(ì „í˜€ ì•„ë‹ˆë‹¤) ~ 5(ë§¤ìš° ê·¸ë ‡ë‹¤)ë¡œ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”.")

# ì ìˆ˜ ì…ë ¥ ë°›ê¸°
responses = []
for q, _ in questions:
    score = st.slider(q, 1, 5, 3)
    responses.append(score)

# ì ìˆ˜ ê³„ì‚°
front_score = sum([responses[i] for i, (_, category) in enumerate(questions) if category in ["Front", "Both"]])
back_score = sum([responses[i] for i, (_, category) in enumerate(questions) if category in ["Back", "Both"]])

# ê²°ê³¼ ì¶œë ¥
st.subheader("ê²°ê³¼ ë¶„ì„")
st.write(f"**ì „ìœ„ í”Œë ˆì´ì–´(Front) ì í•©ë„ ì ìˆ˜:** {front_score}")
st.write(f"**í›„ìœ„ í”Œë ˆì´ì–´(Back) ì í•©ë„ ì ìˆ˜:** {back_score}")

if front_score > back_score:
    st.success("ğŸ¯ ë‹¹ì‹ ì€ ì „ìœ„ í”Œë ˆì´ì–´(Front)ì— ë” ì í•©í•©ë‹ˆë‹¤!")
elif back_score > front_score:
    st.success("ğŸ¯ ë‹¹ì‹ ì€ í›„ìœ„ í”Œë ˆì´ì–´(Back)ì— ë” ì í•©í•©ë‹ˆë‹¤!")
else:
    st.info("âš–ï¸ ë‘ í¬ì§€ì…˜ì— ëª¨ë‘ ì í•©í•œ ìì§ˆì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤!")

# ì‹œê°í™”
fig, ax = plt.subplots()
categories = ["Front", "Back"]
scores = [front_score, back_score]
ax.bar(categories, scores, color=["green", "red"])
ax.set_ylabel("score")
ax.set_title("MD  Front vs Back TEST")

st.pyplot(fig)
