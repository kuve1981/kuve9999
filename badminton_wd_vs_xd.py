import streamlit as st
import numpy as np
import matplotlib.pyplot as plt

# ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ ë° í‰ê°€ ê¸°ì¤€
questions = [
    ("ë„¤íŠ¸ ì•ì—ì„œ ë¹ ë¥´ê²Œ ë°˜ì‘í•˜ê³  ì…”í‹€ì„ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆëŠ”ê°€?", "XD"),
    ("ì¥ê¸°ì ì¸ ë ë¦¬ë¥¼ ê²¬ë”œ ìˆ˜ ìˆëŠ” ì²´ë ¥ê³¼ ì§€êµ¬ë ¥ì´ ìˆëŠ”ê°€?", "WD"),
    ("ìˆœê°„ì ì¸ ìŠ¤í… ì´ë™ì´ ë¹ ë¥´ê³  ë¯¼ì²©í•œê°€?", "XD"),
    ("ê°•í•œ ë“œë¼ì´ë¸Œì™€ í‘¸ì‹œë¥¼ í™œìš©í•œ ê³µê²©ì ì¸ í”Œë ˆì´ë¥¼ ì„ í˜¸í•˜ëŠ”ê°€?", "WD"),
    ("ì „ìœ„ì—ì„œ ë„¤íŠ¸ ë“œë¡­ê³¼ í—¤ì–´í•€ì„ ì •êµí•˜ê²Œ êµ¬ì‚¬í•  ìˆ˜ ìˆëŠ”ê°€?", "XD"),
    ("í›„ìœ„ì—ì„œ í´ë¦¬ì–´ì™€ ìŠ¤ë§¤ì‹œë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆëŠ”ê°€?", "WD"),
    ("ìƒëŒ€ì˜ ì›€ì§ì„ì„ ë¹ ë¥´ê²Œ ì½ê³  ë¹ˆ ê³µê°„ì„ ê³µëµí•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚œê°€?", "XD"),
    ("ìˆ˜ë¹„ì ì¸ ë ë¦¬ ìš´ì˜ë³´ë‹¤ëŠ” ê³µê²©ì ìœ¼ë¡œ ê²½ê¸°ë¥¼ í’€ì–´ê°€ëŠ” í¸ì¸ê°€?", "WD"),
    ("ê²½ê¸° ì¤‘ íŒŒíŠ¸ë„ˆì™€ì˜ ì—­í•  ë¶„ë‹´ì„ ë¹ ë¥´ê²Œ ì´í•´í•˜ê³  ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”ê°€?", "XD"),
    ("ì••ë°• ìƒí™©ì—ì„œë„ ì¹¨ì°©í•˜ê²Œ í”Œë ˆì´í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("ê¸´ ë ë¦¬ì—ì„œë„ ê¾¸ì¤€íˆ ì§‘ì¤‘ë ¥ì„ ìœ ì§€í•  ìˆ˜ ìˆëŠ”ê°€?", "WD"),
    ("íŒŒíŠ¸ë„ˆì™€ ë¹ ë¥´ê²Œ ì˜ì‚¬ì†Œí†µí•˜ê³  í˜‘ë ¥í•  ìˆ˜ ìˆëŠ”ê°€?", "XD"),
    ("ê²Œì„ ì¤‘ íŒŒíŠ¸ë„ˆì˜ í”Œë ˆì´ ìŠ¤íƒ€ì¼ì— ë§ì¶° ìœ ì—°í•˜ê²Œ ì ì‘í•  ìˆ˜ ìˆëŠ”ê°€?", "XD"),
    ("ìƒëŒ€ì ìœ¼ë¡œ í›„ìœ„ë³´ë‹¤ëŠ” ì „ìœ„ì—ì„œ í”Œë ˆì´í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•˜ëŠ”ê°€?", "XD"),
    ("ê²½ê¸° ì¤‘ ì‹¤ìˆ˜í–ˆì„ ë•Œ íŒŒíŠ¸ë„ˆë¥¼ ê²©ë ¤í•˜ë©° ê¸ì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ”ê°€?", "XD"),
]

# Streamlit UI
st.title("ë°°ë“œë¯¼í„´ ì—¬ìë³µì‹ & í˜¼í•©ë³µì‹ ì í•©ì„± í‰ê°€")
st.write("ì•„ë˜ ì§ˆë¬¸ì— ëŒ€í•´ 1(ì „í˜€ ì•„ë‹ˆë‹¤) ~ 5(ë§¤ìš° ê·¸ë ‡ë‹¤)ë¡œ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”.")

# ì ìˆ˜ ì…ë ¥ ë°›ê¸°
responses = []
for q, _ in questions:
    score = st.slider(q, 1, 5, 3)
    responses.append(score)

# ì ìˆ˜ ê³„ì‚°
wd_score = sum([responses[i] for i, (_, category) in enumerate(questions) if category in ["WD", "Both"]])
xd_score = sum([responses[i] for i, (_, category) in enumerate(questions) if category in ["XD", "Both"]])

# ê²°ê³¼ ì¶œë ¥
st.subheader("ê²°ê³¼ ë¶„ì„")
st.write(f"**ì—¬ìë³µì‹(WD) ì í•©ë„ ì ìˆ˜:** {wd_score}")
st.write(f"**í˜¼í•©ë³µì‹(XD) ì í•©ë„ ì ìˆ˜:** {xd_score}")

if wd_score > xd_score:
    st.success("ğŸ¯ ë‹¹ì‹ ì€ ì—¬ìë³µì‹(WD)ì— ë” ì í•©í•©ë‹ˆë‹¤!")
elif xd_score > wd_score:
    st.success("ğŸ¯ ë‹¹ì‹ ì€ í˜¼í•©ë³µì‹(XD)ì— ë” ì í•©í•©ë‹ˆë‹¤!")
else:
    st.info("âš–ï¸ ë‘ ì¢…ëª©ì— ëª¨ë‘ ì í•©í•œ ìì§ˆì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤!")

# ì‹œê°í™”
fig, ax = plt.subplots()
categories = ["WD", "XD"]
scores = [wd_score, xd_score]
ax.bar(categories, scores, color=["purple", "orange"])
ax.set_ylabel("score")
ax.set_title("MD vs XD TEST")

st.pyplot(fig)
