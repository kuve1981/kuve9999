import streamlit as st

# 🐶 강아지 MBTI 테스트
st.title("🐶 강아지 MBTI 테스트")
st.write("아래 질문에 답하고 우리 강아지의 성격 유형을 알아보세요!")

# MBTI 질문 리스트 (20개)
questions = [
    ("산책할 때 다른 강아지에게 먼저 다가간다.", "E"),
    ("처음 만난 사람에게도 애교를 부린다.", "E"),
    ("새로운 장난감에 금방 흥미를 보인다.", "E"),
    ("집에 손님이 오면 신나서 뛰어다닌다.", "E"),
    ("차 타고 외출하는 걸 좋아한다.", "E"),
    ("강아지가 혼자 있는 걸 더 좋아한다.", "I"),
    ("낯선 사람을 보면 경계하거나 관심이 없다.", "I"),
    ("익숙한 장난감을 더 좋아한다.", "I"),
    ("집에 손님이 와도 조용히 구석에서 지켜본다.", "I"),
    ("집에 있는 걸 더 편해한다.", "I"),
    ("산책 중 새로운 냄새를 맡으면 한참을 탐색한다.", "S"),
    ("간식을 보여주면 바로 반응한다.", "S"),
    ("새로운 환경에서는 먼저 돌아다니며 확인한다.", "S"),
    ("장난감을 물어다 주면 단순히 반복해서 논다.", "S"),
    ("자기만의 루틴(밥 먹는 장소, 잠자리 등)이 확실하다.", "S"),
    ("냄새보다 주변 분위기에 더 민감하다.", "N"),
    ("간식보다 주인의 감정 변화에 더 집중한다.", "N"),
    ("신중하게 살펴보고 조심스럽게 움직인다.", "N"),
    ("장난감을 다양한 방식으로 활용하려 한다.", "N"),
    ("상황에 따라 행동 패턴이 자주 변한다.", "N"),
    ("훈련할 때 간식이 있으면 더 잘 따라 한다.", "T"),
    ("크게 신경 쓰지 않는다.", "T"),
    ("규칙적인 생활(산책 시간, 밥 시간 등)을 좋아한다.", "T"),
    ("장난감을 물고 와서 혼자 논다.", "T"),
    ("일상대로 행동하며 큰 신경을 쓰지 않는다.", "T"),
    ("주인이 기분이 안 좋을 때 눈치를 본다.", "F"),
    ("칭찬을 받으면 더 잘 따라 한다.", "F"),
    ("주인의 기분에 따라 함께 움직인다.", "F"),
    ("장난감을 주인에게 가져와 함께 놀길 원한다.", "F"),
    ("주인이 아플 때 옆에서 걱정스럽게 머문다.", "F"),
    ("정해진 시간에 밥을 주면 그 시간을 기다린다.", "J"),
    ("산책 코스가 일정할 때 더 편해한다.", "J"),
    ("훈련할 때 빠르게 집중해서 따라 한다.", "J"),
    ("자기 전 항상 같은 자리에서 잔다.", "J"),
    ("장난감이나 간식을 숨겨두고 나중에 찾으려고 한다.", "J"),
    ("아무 때나 밥을 줘도 크게 상관없다.", "P"),
    ("새로운 길로 가는 걸 더 좋아한다.", "P"),
    ("즉흥적으로 반응하며 변덕스럽다.", "P"),
    ("매일 다른 곳에서 잔다.", "P"),
    ("주어진 걸 바로 사용한다.", "P"),
]

# 점수 저장용 딕셔너리
scores = {"E": 0, "I": 0, "S": 0, "N": 0, "T": 0, "F": 0, "J": 0, "P": 0}

# 질문 출력 & 선택 입력
for question, mbti_type in questions:
    answer = st.radio(question, ["그렇다", "아니다"], key=question)
    if answer == "그렇다":
        scores[mbti_type] += 1
    else:
        opposite_type = {"E": "I", "I": "E", "S": "N", "N": "S", "T": "F", "F": "T", "J": "P", "P": "J"}[mbti_type]
        scores[opposite_type] += 1

# 결과 확인 버튼
if st.button("결과 확인"):
    result = ""
    for pair in [("E", "I"), ("S", "N"), ("T", "F"), ("J", "P")]:
        result += pair[0] if scores[pair[0]] > scores[pair[1]] else pair[1]

    st.subheader(f"🐾 강아지 MBTI: {result}")
    st.write("📌 MBTI 유형별 성격 설명을 추가할 수도 있어요!")
