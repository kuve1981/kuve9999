import streamlit as st
import numpy as np
import matplotlib.pyplot as plt

# ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ ë° í‰ê°€ ê¸°ì¤€
questions = [
    ("ê°•í•œ ìŠ¤ë§¤ì‹œë¥¼ ì§€ì†ì ìœ¼ë¡œ êµ¬ì‚¬í•˜ë©° ê³µê²©ì„ ì£¼ë„í•  ìˆ˜ ìˆëŠ”ê°€?", "MD"),
    ("í›„ìœ„ì—ì„œ ë¹ ë¥¸ í’‹ì›Œí¬ë¡œ ìœ„ì¹˜ë¥¼ ì¡ê³  ê°•ë ¥í•œ ê³µê²©ì„ ì´ì–´ê°ˆ ìˆ˜ ìˆëŠ”ê°€?", "XD"),
    ("í›„ìœ„ì—ì„œ íŒŒì›Œ ìˆëŠ” ê³µê²©ê³¼ ìˆ˜ë¹„ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”ê°€?", "MD"),
    ("í›„ìœ„ì—ì„œ ê°•í•œ ìŠ¤ë§¤ì‹œì™€ ê°ë„ ìˆëŠ” ê³µê²©ì„ êµ¬ì‚¬í•  ìˆ˜ ìˆëŠ”ê°€?", "MD"),
    ("í˜¼í•©ë³µì‹ì—ì„œ ì—¬ì„± íŒŒíŠ¸ë„ˆê°€ ì „ìœ„ì—ì„œ í”Œë ˆì´í•  ë•Œ, í›„ìœ„ì—ì„œ ê³µê²©ì ì¸ í”Œë ˆì´ë¥¼ í•  ìˆ˜ ìˆëŠ”ê°€?", "XD"),
    ("ìƒëŒ€ì˜ ìˆ˜ë¹„ë¥¼ í”ë“œëŠ” ì˜ˆë¦¬í•œ ë“œë¡­ìƒ·ì„ êµ¬ì‚¬í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("ë¹ ë¥¸ ë ë¦¬ì—ì„œ ìƒëŒ€ì˜ ê³µê²©ì„ ë°›ì•„ë„˜ê¸°ê³  ë°˜ê²©í•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚œê°€?", "Both"),
    ("í˜¼í•©ë³µì‹ì—ì„œ íŒŒíŠ¸ë„ˆê°€ ìƒëŒ€ì˜ ê³µê²©ì„ ë²„í‹¸ ìˆ˜ ìˆë„ë¡ ì•ˆì •ì ì¸ ìƒ·ì„ êµ¬ì‚¬í•  ìˆ˜ ìˆëŠ”ê°€?", "XD"),
    ("ê³µê²©ì ì¸ í”Œë ˆì´ë¥¼ ì§€ì†í•˜ë©´ì„œë„ ê²½ê¸° ìš´ì˜ì„ ì¡°ì ˆí•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("í˜¼í•©ë³µì‹ì—ì„œ í›„ìœ„ì—ì„œì˜ ê³µê²©ë¿ë§Œ ì•„ë‹ˆë¼ ì „ìœ„ì—ì„œì˜ ìœ ì—°í•œ ì›€ì§ì„ë„ ê°€ëŠ¥í•˜ë‹¤ê³  ìƒê°í•˜ëŠ”ê°€?", "XD"),
    ("ë³µì‹ì—ì„œ ë¹ ë¥¸ í¬ì§€ì…˜ ì „í™˜ê³¼ íŒŒíŠ¸ë„ˆì™€ì˜ í˜‘ì—…ì„ ì›í™œí•˜ê²Œ í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("íŒŒíŠ¸ë„ˆê°€ ì‹¤ìˆ˜í–ˆì„ ë•Œ ì¹¨ì°©í•˜ê²Œ ê²½ê¸°ë¥¼ ìš´ì˜í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("í˜¼í•©ë³µì‹ì—ì„œ ì—¬ì„± íŒŒíŠ¸ë„ˆë¥¼ ë°°ë ¤í•˜ê³  ë¦¬ë“œí•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”ê°€?", "XD"),
    ("ë ë¦¬ ì¤‘ íŒŒíŠ¸ë„ˆì™€ì˜ ê±°ë¦¬ì™€ ìœ„ì¹˜ë¥¼ ì •í™•í•˜ê²Œ ì¡°ì •í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("ë³µì‹ ê²½ê¸°ì—ì„œ íŒŒíŠ¸ë„ˆì˜ ìŠ¤íƒ€ì¼ì— ë”°ë¼ ìì‹ ì˜ í”Œë ˆì´ ë°©ì‹ì„ ì¡°ì ˆí•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
]

# Streamlit UI
st.title("ë°°ë“œë¯¼í„´ ë‚¨ìë³µì‹ vs í˜¼í•©ë³µì‹ ì í•©ì„± í‰ê°€")
st.write("ì•„ë˜ ì§ˆë¬¸ì— ëŒ€í•´ 1(ì „í˜€ ì•„ë‹ˆë‹¤) ~ 5(ë§¤ìš° ê·¸ë ‡ë‹¤)ë¡œ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”.")

# ì ìˆ˜ ì…ë ¥ ë°›ê¸°
responses = []
for q, _ in questions:
    score = st.slider(q, 1, 5, 3)
    responses.append(score)

# ì ìˆ˜ ê³„ì‚°
md_score = sum([responses[i] for i, (_, category) in enumerate(questions) if category in ["MD", "Both"]])
xd_score = sum([responses[i] for i, (_, category) in enumerate(questions) if category in ["XD", "Both"]])

# ê²°ê³¼ ì¶œë ¥
st.subheader("ê²°ê³¼ ë¶„ì„")
st.write(f"**ë‚¨ìë³µì‹(MD) ì í•©ë„ ì ìˆ˜:** {md_score}")
st.write(f"**í˜¼í•©ë³µì‹(XD) ì í•©ë„ ì ìˆ˜:** {xd_score}")

if md_score > xd_score:
    st.success("ğŸ¯ ë‹¹ì‹ ì€ ë‚¨ìë³µì‹(MD)ì— ë” ì í•©í•©ë‹ˆë‹¤!")
elif xd_score > md_score:
    st.success("ğŸ¯ ë‹¹ì‹ ì€ í˜¼í•©ë³µì‹(XD)ì— ë” ì í•©í•©ë‹ˆë‹¤!")
else:
    st.info("âš–ï¸ ë‘ ì¢…ëª©ì— ëª¨ë‘ ì í•©í•œ ìì§ˆì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤!")

# ì‹œê°í™”
fig, ax = plt.subplots()
categories = ["MD", "XD"]
scores = [md_score, xd_score]
ax.bar(categories, scores, color=["blue", "orange"])
ax.set_ylabel("score")
ax.set_title("MD vs XD TEST")

st.pyplot(fig)
