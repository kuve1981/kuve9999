import streamlit as st
import numpy as np
import matplotlib.pyplot as plt

# ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ ë° í‰ê°€ ê¸°ì¤€
questions = [
    ("ë„¤íŠ¸ ì•ì—ì„œ ë¹ ë¥´ê²Œ ë°˜ì‘í•˜ê³  ì…”í‹€ì„ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆëŠ”ê°€?", "Front"),
    ("ê°•í•œ í´ë¦¬ì–´ì™€ ìŠ¤ë§¤ì‹œë¥¼ í™œìš©í•˜ì—¬ í›„ìœ„ì—ì„œ ê³µê²©ì„ ì£¼ë„í•  ìˆ˜ ìˆëŠ”ê°€?", "Back"),
    ("ìˆœê°„ì ì¸ ìŠ¤í… ì´ë™ì´ ë¹ ë¥´ê³  ë„¤íŠ¸ì—ì„œ ë¯¼ì²©í•˜ê²Œ ì›€ì§ì¼ ìˆ˜ ìˆëŠ”ê°€?", "Front"),
    ("ì „ìœ„ì—ì„œ í—¤ì–´í•€ê³¼ ë“œë¡­ìƒ·ì„ ì •êµí•˜ê²Œ êµ¬ì‚¬í•  ìˆ˜ ìˆëŠ”ê°€?", "Front"),
    ("í›„ìœ„ì—ì„œ ìŠ¤ë§¤ì‹œì™€ ë“œë¼ì´ë¸Œë¥¼ ê°•í•˜ê²Œ êµ¬ì‚¬í•  ìˆ˜ ìˆëŠ”ê°€?", "Back"),
    ("ë„¤íŠ¸ì—ì„œ ìƒëŒ€ì˜ ê³µê²©ì„ ë¹ ë¥´ê²Œ ë°˜ì‘í•˜ì—¬ ë°›ì•„ë‚¼ ìˆ˜ ìˆëŠ”ê°€?", "Front"),
    ("í›„ìœ„ì—ì„œ ë””íœìŠ¤ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”ê°€?", "Back"),
    ("ì „ìœ„ì—ì„œ í‘¸ì‹œì™€ ë“œë¼ì´ë¸Œë¡œ ë¹ ë¥¸ ì†ê³µ í”Œë ˆì´ë¥¼ í•  ìˆ˜ ìˆëŠ”ê°€?", "Front"),
    ("ìƒëŒ€ì˜ ì›€ì§ì„ì„ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ê³  ë¹ˆ ê³µê°„ì„ ê³µëµí•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚œê°€?", "Front"),
    ("ë ë¦¬ ì¤‘ ì ì ˆí•œ íƒ€ì´ë°ì— í›„ìœ„ì—ì„œ ê°•í•œ ê³µê²©ì„ êµ¬ì‚¬í•  ìˆ˜ ìˆëŠ”ê°€?", "Back"),
    ("ê³µê²©ì ì¸ í”Œë ˆì´ë³´ë‹¤ ìˆ˜ë¹„ì ìœ¼ë¡œ ê²½ê¸°ë¥¼ ìš´ì˜í•˜ëŠ” ê²ƒì´ í¸í•œê°€?", "Back"),
    ("ì••ë°• ìƒí™©ì—ì„œë„ ì¹¨ì°©í•˜ê²Œ í”Œë ˆì´í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("ê²½ê¸° ì¤‘ íŒŒíŠ¸ë„ˆì™€ì˜ í¬ì§€ì…˜ì„ ìì—°ìŠ¤ëŸ½ê²Œ êµëŒ€í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("íŒŒíŠ¸ë„ˆì˜ ìŠ¤íƒ€ì¼ì— ë§ì¶° ìœ ì—°í•˜ê²Œ í”Œë ˆì´í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
    ("ê²½ê¸° ì¤‘ ì‹¤ìˆ˜í–ˆì„ ë•Œ íŒŒíŠ¸ë„ˆë¥¼ ê²©ë ¤í•˜ë©° ê¸ì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ”ê°€?", "Both"),
]

# Streamlit UI
st.title("ë°°ë“œë¯¼í„´ ì—¬ìë³µì‹ ì „ìœ„ & í›„ìœ„ í¬ì§€ì…˜ ì í•©ì„± í‰ê°€")
st.write("ì•„ë˜ ì§ˆë¬¸ì— ëŒ€í•´ 1(ì „í˜€ ì•„ë‹ˆë‹¤) ~ 5(ë§¤ìš° ê·¸ë ‡ë‹¤)ë¡œ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”.")

# ì ìˆ˜ ì…ë ¥ ë°›ê¸°
responses = []
for q, _ in questions:
    score = st.slider(q, 1, 5, 3)
    responses.append(score)

# ì ìˆ˜ ê³„ì‚°
front_score = sum([responses[i] for i, (_, category) in enumerate(questions) if category in ["Front", "Both"]])
back_score = sum([responses[i] for i, (_, category) in enumerate(questions) if category in ["Back", "Both"]])

# ê²°ê³¼ ì¶œë ¥
st.subheader("ê²°ê³¼ ë¶„ì„")
st.write(f"**ì „ìœ„ í”Œë ˆì´ì–´(Front) ì í•©ë„ ì ìˆ˜:** {front_score}")
st.write(f"**í›„ìœ„ í”Œë ˆì´ì–´(Back) ì í•©ë„ ì ìˆ˜:** {back_score}")

if front_score > back_score:
    st.success("ğŸ¯ ë‹¹ì‹ ì€ ì „ìœ„ í”Œë ˆì´ì–´(Front)ì— ë” ì í•©í•©ë‹ˆë‹¤!")
elif back_score > front_score:
    st.success("ğŸ¯ ë‹¹ì‹ ì€ í›„ìœ„ í”Œë ˆì´ì–´(Back)ì— ë” ì í•©í•©ë‹ˆë‹¤!")
else:
    st.info("âš–ï¸ ë‘ í¬ì§€ì…˜ì— ëª¨ë‘ ì í•©í•œ ìì§ˆì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤!")

# ì‹œê°í™”
fig, ax = plt.subplots()
categories = ["Front", "Back"]
scores = [front_score, back_score]
ax.bar(categories, scores, color=["pink", "purple"])
ax.set_ylabel("score")
ax.set_title("WD  Front vs Back TEST")

st.pyplot(fig)
